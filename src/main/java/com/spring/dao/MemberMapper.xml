<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<!-- namespace = 연결되는 인터페이스 -->    
<mapper namespace="com.spring.dao.MemberInter">
	<insert id="join" parameterType="com.spring.dto.MemberDTO">
		<if test="member_div.equals('인턴')">
			INSERT INTO member(member_id, member_pw, member_email, member_family, member_div) 
				VALUES (#{member_id}, #{member_pw}, #{member_email}, #{member_family}, #{member_div})
		</if>	
		<if test="member_div.equals('대리')">
			INSERT INTO member(member_id, job_no, member_pw, member_email, member_family, member_company, member_div, member_cert, member_eval) 
				VALUES (#{member_id}, #{job_no}, #{member_pw}, #{member_email}, #{member_family}, #{member_company}, #{member_div}, 'N', 1)
		</if>
	</insert>
	
	<select id="login" parameterType="String" resultType="String">
		SELECT member_pw FROM member WHERE member_id = #{param1}
	</select>
</mapper>